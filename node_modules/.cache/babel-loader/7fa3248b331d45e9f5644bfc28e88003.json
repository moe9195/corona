{"ast":null,"code":"import _classCallCheck from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/moe/Development/corona/covid19-dashboard/src/components/PieChart.js\";\nimport React, { Component } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport colormap from \"colormap\";\nimport countryData from \"./countries\";\nimport Loading from \"./Loading\";\nvar countries = countryData[1];\n\nvar PieChart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PieChart, _Component);\n\n  function PieChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PieChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PieChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: null,\n      selector: \"confirmed\"\n    };\n\n    _this.handleOnClick = function (selected) {\n      _this.setState({\n        selector: selected\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PieChart, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.loading !== this.props.loading) {\n        this.setState({\n          loading: !this.props.loading\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var selectors = [\"confirmed\", \"deaths\", \"recovered\"];\n      var buttons = selectors.map(function (selector) {\n        return React.createElement(\"button\", {\n          className: _this2.state.selector === selector ? \"btn btn-outline-dark clicked\" : \"btn btn-outline-dark\",\n          style: {\n            padding: \"0vh 3.35vh 0vh 3.35vh\"\n          },\n          onClick: function onClick() {\n            return _this2.handleOnClick(selector);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, selector);\n      });\n      var confirmedData = this.props.data[0];\n      var deathsData = this.props.data[1];\n      var recoveredData = this.props.data[2];\n      var confirmedX = [],\n          confirmedY = [];\n      confirmedData.map(function (country) {\n        confirmedX.push(country.name);\n        confirmedY.push(country.confirmed);\n      });\n      var deathsX = [],\n          deathsY = [];\n      deathsData.map(function (country) {\n        deathsX.push(country.name);\n        deathsY.push(country.deaths);\n      });\n      var recoveredX = [],\n          recoveredY = [];\n      recoveredData.map(function (country) {\n        recoveredX.push(country.name);\n        recoveredY.push(country.recovered);\n      });\n\n      if (this.state.selector === \"confirmed\") {\n        var data = [{\n          values: confirmedY,\n          labels: confirmedX,\n          type: \"pie\",\n          textinfo: \"label\"\n        }];\n      } else if (this.state.selector === \"deaths\") {\n        var data = [{\n          values: deathsX,\n          labels: deathsY,\n          type: \"pie\",\n          textinfo: \"label\"\n        }];\n      } else {\n        var data = [{\n          values: recoveredX,\n          labels: recoveredY,\n          type: \"pie\",\n          textinfo: \"label\"\n        }];\n      }\n\n      var colorway = colormap({\n        colormap: \"jet\",\n        nshades: countries.length,\n        format: \"hex\",\n        alpha: 1\n      });\n      return React.createElement(\"div\", {\n        className: \"padded\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: \"0.25rem 0.0rem 0.5rem 0.0rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \" \", buttons), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Plot, {\n        data: data,\n        layout: {\n          modebar: {\n            bgcolor: \"rgba(255,255,255,0)\"\n          },\n          font: {\n            color: \"#99aab5\",\n            size: 11\n          },\n          showlegend: false,\n          colorway: colorway.reverse(),\n          plot_bgcolor: \"#23272a\",\n          paper_bgcolor: \"#23272a\",\n          height: \"350\",\n          autosize: true,\n          margin: {\n            l: 10,\n            r: 10,\n            t: 2,\n            b: 2,\n            pad: 0\n          }\n        },\n        config: {\n          modeBarButtonsToRemove: [\"toggleSpikelines\", \"zoomIn2d\", \"zoomOut2d\", \"autoScale2d\", \"hoverClosestCartesian\", \"hoverCompareCartesian\", \"hoverClosestPie\"],\n          displaylogo: false\n        },\n        useResizeHandler: true,\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PieChart;\n}(Component);\n\nexport default PieChart;","map":{"version":3,"sources":["/home/moe/Development/corona/covid19-dashboard/src/components/PieChart.js"],"names":["React","Component","Plot","colormap","countryData","Loading","countries","PieChart","state","data","selector","handleOnClick","selected","setState","prevProps","loading","props","selectors","buttons","map","padding","confirmedData","deathsData","recoveredData","confirmedX","confirmedY","country","push","name","confirmed","deathsX","deathsY","deaths","recoveredX","recoveredY","recovered","values","labels","type","textinfo","colorway","nshades","length","format","alpha","modebar","bgcolor","font","color","size","showlegend","reverse","plot_bgcolor","paper_bgcolor","height","autosize","margin","l","r","t","b","pad","modeBarButtonsToRemove","displaylogo","width"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,IAAMC,SAAS,GAAGF,WAAW,CAAC,CAAD,CAA7B;;IAEMG,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,IADA;AAENC,MAAAA,QAAQ,EAAE;AAFJ,K;;UAWRC,a,GAAgB,UAACC,QAAD,EAAc;AAC5B,YAAKC,QAAL,CAAc;AAAEH,QAAAA,QAAQ,EAAEE;AAAZ,OAAd;AACD,K;;;;;;;uCARkBE,S,EAAW;AAC5B,UAAIA,SAAS,CAACC,OAAV,KAAsB,KAAKC,KAAL,CAAWD,OAArC,EAA8C;AAC5C,aAAKF,QAAL,CAAc;AAAEE,UAAAA,OAAO,EAAE,CAAC,KAAKC,KAAL,CAAWD;AAAvB,SAAd;AACD;AACF;;;6BAMQ;AAAA;;AACP,UAAME,SAAS,GAAG,CAAC,WAAD,EAAc,QAAd,EAAwB,WAAxB,CAAlB;AAEA,UAAMC,OAAO,GAAGD,SAAS,CAACE,GAAV,CAAc,UAACT,QAAD;AAAA,eAC5B;AACE,UAAA,SAAS,EACP,MAAI,CAACF,KAAL,CAAWE,QAAX,KAAwBA,QAAxB,GACI,8BADJ,GAEI,sBAJR;AAME,UAAA,KAAK,EAAE;AAAEU,YAAAA,OAAO,EAAE;AAAX,WANT;AAOE,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACT,aAAL,CAAmBD,QAAnB,CAAN;AAAA,WAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASGA,QATH,CAD4B;AAAA,OAAd,CAAhB;AAcA,UAAMW,aAAa,GAAG,KAAKL,KAAL,CAAWP,IAAX,CAAgB,CAAhB,CAAtB;AACA,UAAMa,UAAU,GAAG,KAAKN,KAAL,CAAWP,IAAX,CAAgB,CAAhB,CAAnB;AACA,UAAMc,aAAa,GAAG,KAAKP,KAAL,CAAWP,IAAX,CAAgB,CAAhB,CAAtB;AAEA,UAAIe,UAAU,GAAG,EAAjB;AAAA,UACEC,UAAU,GAAG,EADf;AAEAJ,MAAAA,aAAa,CAACF,GAAd,CAAkB,UAACO,OAAD,EAAa;AAC7BF,QAAAA,UAAU,CAACG,IAAX,CAAgBD,OAAO,CAACE,IAAxB;AACAH,QAAAA,UAAU,CAACE,IAAX,CAAgBD,OAAO,CAACG,SAAxB;AACD,OAHD;AAKA,UAAIC,OAAO,GAAG,EAAd;AAAA,UACEC,OAAO,GAAG,EADZ;AAEAT,MAAAA,UAAU,CAACH,GAAX,CAAe,UAACO,OAAD,EAAa;AAC1BI,QAAAA,OAAO,CAACH,IAAR,CAAaD,OAAO,CAACE,IAArB;AACAG,QAAAA,OAAO,CAACJ,IAAR,CAAaD,OAAO,CAACM,MAArB;AACD,OAHD;AAKA,UAAIC,UAAU,GAAG,EAAjB;AAAA,UACEC,UAAU,GAAG,EADf;AAEAX,MAAAA,aAAa,CAACJ,GAAd,CAAkB,UAACO,OAAD,EAAa;AAC7BO,QAAAA,UAAU,CAACN,IAAX,CAAgBD,OAAO,CAACE,IAAxB;AACAM,QAAAA,UAAU,CAACP,IAAX,CAAgBD,OAAO,CAACS,SAAxB;AACD,OAHD;;AAKA,UAAI,KAAK3B,KAAL,CAAWE,QAAX,KAAwB,WAA5B,EAAyC;AACvC,YAAID,IAAI,GAAG,CACT;AACE2B,UAAAA,MAAM,EAAEX,UADV;AAEEY,UAAAA,MAAM,EAAEb,UAFV;AAGEc,UAAAA,IAAI,EAAE,KAHR;AAIEC,UAAAA,QAAQ,EAAE;AAJZ,SADS,CAAX;AAQD,OATD,MASO,IAAI,KAAK/B,KAAL,CAAWE,QAAX,KAAwB,QAA5B,EAAsC;AAC3C,YAAID,IAAI,GAAG,CACT;AACE2B,UAAAA,MAAM,EAAEN,OADV;AAEEO,UAAAA,MAAM,EAAEN,OAFV;AAGEO,UAAAA,IAAI,EAAE,KAHR;AAIEC,UAAAA,QAAQ,EAAE;AAJZ,SADS,CAAX;AAQD,OATM,MASA;AACL,YAAI9B,IAAI,GAAG,CACT;AACE2B,UAAAA,MAAM,EAAEH,UADV;AAEEI,UAAAA,MAAM,EAAEH,UAFV;AAGEI,UAAAA,IAAI,EAAE,KAHR;AAIEC,UAAAA,QAAQ,EAAE;AAJZ,SADS,CAAX;AAQD;;AAED,UAAMC,QAAQ,GAAGrC,QAAQ,CAAC;AACxBA,QAAAA,QAAQ,EAAE,KADc;AAExBsC,QAAAA,OAAO,EAAEnC,SAAS,CAACoC,MAFK;AAGxBC,QAAAA,MAAM,EAAE,KAHgB;AAIxBC,QAAAA,KAAK,EAAE;AAJiB,OAAD,CAAzB;AAOA,aACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAE;AAAExB,UAAAA,OAAO,EAAE;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,EAEGF,OAFH,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,IAAI,EAAET,IADR;AAEE,QAAA,MAAM,EAAE;AACNoC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WADH;AAENC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,KAAK,EAAE,SAAT;AAAoBC,YAAAA,IAAI,EAAE;AAA1B,WAFA;AAGNC,UAAAA,UAAU,EAAE,KAHN;AAINV,UAAAA,QAAQ,EAAEA,QAAQ,CAACW,OAAT,EAJJ;AAKNC,UAAAA,YAAY,EAAE,SALR;AAMNC,UAAAA,aAAa,EAAE,SANT;AAONC,UAAAA,MAAM,EAAE,KAPF;AAQNC,UAAAA,QAAQ,EAAE,IARJ;AASNC,UAAAA,MAAM,EAAE;AAAEC,YAAAA,CAAC,EAAE,EAAL;AAASC,YAAAA,CAAC,EAAE,EAAZ;AAAgBC,YAAAA,CAAC,EAAE,CAAnB;AAAsBC,YAAAA,CAAC,EAAE,CAAzB;AAA4BC,YAAAA,GAAG,EAAE;AAAjC;AATF,SAFV;AAaE,QAAA,MAAM,EAAE;AACNC,UAAAA,sBAAsB,EAAE,CACtB,kBADsB,EAEtB,UAFsB,EAGtB,WAHsB,EAItB,aAJsB,EAKtB,uBALsB,EAMtB,uBANsB,EAOtB,iBAPsB,CADlB;AAUNC,UAAAA,WAAW,EAAE;AAVP,SAbV;AAyBE,QAAA,gBAAgB,EAAE,IAzBpB;AA0BE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE,MAAT;AAAiBV,UAAAA,MAAM,EAAE;AAAzB,SA1BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,CADF;AAuCD;;;;EArIoBrD,S;;AAwIvB,eAAeM,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport colormap from \"colormap\";\nimport countryData from \"./countries\";\nimport Loading from \"./Loading\";\n\nconst countries = countryData[1];\n\nclass PieChart extends Component {\n  state = {\n    data: null,\n    selector: \"confirmed\",\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.loading !== this.props.loading) {\n      this.setState({ loading: !this.props.loading });\n    }\n  }\n\n  handleOnClick = (selected) => {\n    this.setState({ selector: selected });\n  };\n\n  render() {\n    const selectors = [\"confirmed\", \"deaths\", \"recovered\"];\n\n    const buttons = selectors.map((selector) => (\n      <button\n        className={\n          this.state.selector === selector\n            ? \"btn btn-outline-dark clicked\"\n            : \"btn btn-outline-dark\"\n        }\n        style={{ padding: \"0vh 3.35vh 0vh 3.35vh\" }}\n        onClick={() => this.handleOnClick(selector)}\n      >\n        {selector}\n      </button>\n    ));\n\n    const confirmedData = this.props.data[0];\n    const deathsData = this.props.data[1];\n    const recoveredData = this.props.data[2];\n\n    var confirmedX = [],\n      confirmedY = [];\n    confirmedData.map((country) => {\n      confirmedX.push(country.name);\n      confirmedY.push(country.confirmed);\n    });\n\n    var deathsX = [],\n      deathsY = [];\n    deathsData.map((country) => {\n      deathsX.push(country.name);\n      deathsY.push(country.deaths);\n    });\n\n    var recoveredX = [],\n      recoveredY = [];\n    recoveredData.map((country) => {\n      recoveredX.push(country.name);\n      recoveredY.push(country.recovered);\n    });\n\n    if (this.state.selector === \"confirmed\") {\n      var data = [\n        {\n          values: confirmedY,\n          labels: confirmedX,\n          type: \"pie\",\n          textinfo: \"label\",\n        },\n      ];\n    } else if (this.state.selector === \"deaths\") {\n      var data = [\n        {\n          values: deathsX,\n          labels: deathsY,\n          type: \"pie\",\n          textinfo: \"label\",\n        },\n      ];\n    } else {\n      var data = [\n        {\n          values: recoveredX,\n          labels: recoveredY,\n          type: \"pie\",\n          textinfo: \"label\",\n        },\n      ];\n    }\n\n    const colorway = colormap({\n      colormap: \"jet\",\n      nshades: countries.length,\n      format: \"hex\",\n      alpha: 1,\n    });\n\n    return (\n      <div className=\"padded\">\n        <div style={{ padding: \"0.25rem 0.0rem 0.5rem 0.0rem\" }}>\n          {\" \"}\n          {buttons}\n        </div>\n\n        <div>\n          <Plot\n            data={data}\n            layout={{\n              modebar: { bgcolor: \"rgba(255,255,255,0)\" },\n              font: { color: \"#99aab5\", size: 11 },\n              showlegend: false,\n              colorway: colorway.reverse(),\n              plot_bgcolor: \"#23272a\",\n              paper_bgcolor: \"#23272a\",\n              height: \"350\",\n              autosize: true,\n              margin: { l: 10, r: 10, t: 2, b: 2, pad: 0 },\n            }}\n            config={{\n              modeBarButtonsToRemove: [\n                \"toggleSpikelines\",\n                \"zoomIn2d\",\n                \"zoomOut2d\",\n                \"autoScale2d\",\n                \"hoverClosestCartesian\",\n                \"hoverCompareCartesian\",\n                \"hoverClosestPie\",\n              ],\n              displaylogo: false,\n            }}\n            useResizeHandler={true}\n            style={{ width: \"100%\", height: \"100%\" }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PieChart;\n"]},"metadata":{},"sourceType":"module"}