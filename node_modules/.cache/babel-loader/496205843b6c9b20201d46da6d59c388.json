{"ast":null,"code":"import _classCallCheck from \"/home/moe/Development/corona/online-retail-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/moe/Development/corona/online-retail-dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/moe/Development/corona/online-retail-dashboard/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/moe/Development/corona/online-retail-dashboard/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/moe/Development/corona/online-retail-dashboard/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/moe/Development/corona/online-retail-dashboard/src/components/App.js\";\nimport React, { Component } from \"react\";\nimport { Container, Nav } from \"./styled-components\"; // fusioncharts\n\nimport FusionCharts from \"fusioncharts\";\nimport Charts from \"fusioncharts/fusioncharts.charts\";\nimport Maps from \"fusioncharts/fusioncharts.maps\";\nimport USARegion from \"fusionmaps/maps/es/fusioncharts.usaregion\";\nimport ReactFC from \"react-fusioncharts\";\nimport \"./charts-theme\";\nimport config from \"./config\";\nimport Dropdown from \"react-dropdown\";\nimport formatNum from \"./format-number\";\nimport UserImg from \"../assets/images/user-img-placeholder.jpeg\";\nReactFC.fcRoot(FusionCharts, Charts, Maps, USARegion);\nvar url = \"https://sheets.googleapis.com/v4/spreadsheets/\".concat(config.spreadsheetId, \"/values:batchGet?ranges=Sheet1&majorDimension=ROWS&key=\").concat(config.apiKey);\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.getData = function (arg) {\n      // google sheets data\n      var arr = _this.state.items;\n      var arrLen = arr.length; // kpi's\n      // amazon revenue\n\n      var amRevenue = 0; //ebay revenue\n\n      var ebRevenue = 0; // etsy revenue\n\n      var etRevenue = 0; // total revenue\n\n      var totalRevenue = 0; // product views\n\n      var productViews = 0; // purchase rate\n\n      var purchaseRate = 0; // checkout rate\n\n      var checkoutRate = 0; // abandoned rate\n\n      var abandonedRate = 0; // order trend by brand\n\n      var ordersTrendStore = []; // order trend by region\n\n      var ordersTrendRegion = [];\n      var orderesTrendnw = 0;\n      var orderesTrendsw = 0;\n      var orderesTrendc = 0;\n      var orderesTrendne = 0;\n      var orderesTrendse = 0;\n      var selectedValue = null;\n\n      for (var i = 0; i < arrLen; i++) {\n        if (arg === arr[i][\"month\"]) {\n          if (arr[i][\"source\"] === \"AM\") {\n            amRevenue += parseInt(arr[i].revenue);\n            ordersTrendStore.push({\n              label: \"Amazon\",\n              value: arr[i].orders,\n              displayValue: \"\".concat(arr[i].orders, \" orders\")\n            });\n          } else if (arr[i][\"source\"] === \"EB\") {\n            ebRevenue += parseInt(arr[i].revenue);\n            ordersTrendStore.push({\n              label: \"Ebay\",\n              value: arr[i].orders,\n              displayValue: \"\".concat(arr[i].orders, \" orders\")\n            });\n          } else if (arr[i][\"source\"] === \"ET\") {\n            etRevenue += parseInt(arr[i].revenue);\n            ordersTrendStore.push({\n              label: \"Etsy\",\n              value: arr[i].orders,\n              displayValue: \"\".concat(arr[i].orders, \" orders\")\n            });\n          }\n\n          productViews += parseInt(arr[i].product_views);\n          purchaseRate += parseInt(arr[i].purchase_rate / 3);\n          checkoutRate += parseInt(arr[i].checkout_rate / 3);\n          abandonedRate += parseInt(arr[i].abandoned_rate / 3);\n          orderesTrendnw += parseInt(arr[i].orders_nw);\n          orderesTrendsw += parseInt(arr[i].orders_sw);\n          orderesTrendc += parseInt(arr[i].orders_c);\n          orderesTrendne += parseInt(arr[i].orders_ne);\n          orderesTrendse += parseInt(arr[i].orders_se);\n        }\n      }\n\n      totalRevenue = amRevenue + ebRevenue + etRevenue;\n      ordersTrendRegion.push({\n        id: \"01\",\n        value: orderesTrendne\n      }, {\n        id: \"02\",\n        value: orderesTrendnw\n      }, {\n        id: \"03\",\n        value: orderesTrendse\n      }, {\n        id: \"04\",\n        value: orderesTrendsw\n      }, {\n        id: \"05\",\n        value: orderesTrendc\n      });\n      selectedValue = arg; // setting state\n\n      _this.setState({\n        amRevenue: formatNum(amRevenue),\n        ebRevenue: formatNum(ebRevenue),\n        etRevenue: formatNum(etRevenue),\n        totalRevenue: formatNum(totalRevenue),\n        productViews: formatNum(productViews),\n        purchaseRate: purchaseRate,\n        checkoutRate: checkoutRate,\n        abandonedRate: abandonedRate,\n        ordersTrendStore: ordersTrendStore,\n        ordersTrendRegion: ordersTrendRegion,\n        selectedValue: selectedValue\n      });\n    };\n\n    _this.updateDashboard = function (event) {\n      _this.getData(event.value);\n\n      _this.setState({\n        selectedValue: event.value\n      });\n    };\n\n    _this.state = {\n      items: [],\n      dropdownOptions: [],\n      selectedValue: null,\n      amRevenue: null,\n      ebRevenue: null,\n      etRevenue: null,\n      totalRevenue: null,\n      productViews: null,\n      purchaseRate: \" \",\n      checkoutRate: \" \",\n      abandonedRate: \" \",\n      ordersTrendStore: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"navbar fixed-top nav-secondary is-dark is-light-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"text-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Summary\"), React.createElement(Container, {\n        className: \"navbar-nav ml-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: \"pr-2 custom-dropdown\",\n        options: this.state.dropdownOptions,\n        onChange: this.updateDashboard,\n        value: this.state.selectedValue,\n        placeholder: \"Select an option\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }))), React.createElement(Container, {\n        className: \"container-fluid pr-5 pl-5 pt-5 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"col-lg-3 col-sm-6 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card grid-card is-card-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"is-dark-text-light letter-spacing text-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Total Revenue\")), React.createElement(Container, {\n        className: \"card-value pt-4 text-x-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-large pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"$\"), this.state.totalRevenue))), React.createElement(Container, {\n        className: \"col-lg-3 col-sm-6 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card grid-card is-card-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"is-dark-text-light letter-spacing text-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Revenue from Amazon\"), React.createElement(Container, {\n        className: \"card-heading-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-amazon text-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }))), React.createElement(Container, {\n        className: \"card-value pt-4 text-x-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-large pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"$\"), this.state.amRevenue))), React.createElement(Container, {\n        className: \"col-lg-3 col-sm-6 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card grid-card is-card-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"is-dark-text-light letter-spacing text-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Revenue from Ebay\"), React.createElement(Container, {\n        className: \"card-heading-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-ebay text-x-large logo-adjust\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }))), React.createElement(Container, {\n        className: \"card-value pt-4 text-x-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-large pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"$\"), this.state.ebRevenue))), React.createElement(Container, {\n        className: \"col-lg-3 col-sm-6 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card grid-card is-card-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"is-dark-text-light letter-spacing text-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Revenue from Etsy\"), React.createElement(Container, {\n        className: \"card-heading-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-etsy text-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }))), React.createElement(Container, {\n        className: \"card-value pt-4 text-x-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-large pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"$\"), this.state.etRevenue)))), React.createElement(Container, {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"col-md-4 col-lg-3 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card grid-card is-card-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card-heading mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"is-dark-text-light letter-spacing text-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Product Views\")), React.createElement(Container, {\n        className: \"card-value pt-4 text-x-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, this.state.productViews, React.createElement(\"span\", {\n        className: \"text-medium pl-2 is-dark-text-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"views\")))), React.createElement(Container, {\n        className: \"col-md-8 col-lg-9 is-light-text mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card is-card-dark chart-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"row full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"col-sm-4 full height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"chart-container full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(ReactFC, Object.assign({\n        type: \"doughnut2d\",\n        width: \"100%\",\n        height: \"100%\",\n        dataFormat: \"json\",\n        containerBackgroundOpacity: \"0\",\n        dataSource: {\n          chart: {\n            caption: \"Purchase Rate\",\n            theme: \"ecommerce\",\n            defaultCenterLabel: \"\".concat(this.state.purchaseRate, \"%\"),\n            paletteColors: \"#3B70C4, #000000\"\n          },\n          data: [{\n            label: \"active\",\n            value: \"\".concat(this.state.purchaseRate)\n          }, {\n            label: \"inactive\",\n            alpha: 5,\n            value: \"\".concat(100 - this.state.purchaseRate)\n          }]\n        }\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      })))), React.createElement(Container, {\n        className: \"col-sm-4 full-height border-left border-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"chart-container full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(ReactFC, Object.assign({\n        type: \"doughnut2d\",\n        width: \"100%\",\n        height: \"100%\",\n        dataFormat: \"json\",\n        containerBackgroundOpacity: \"0\",\n        dataSource: {\n          chart: {\n            caption: \"Checkout Rate\",\n            theme: \"ecommerce\",\n            defaultCenterLabel: \"\".concat(this.state.checkoutRate, \"%\"),\n            paletteColors: \"#41B6C4, #000000\"\n          },\n          data: [{\n            label: \"active\",\n            value: \"\".concat(this.state.checkoutRate)\n          }, {\n            label: \"inactive\",\n            alpha: 5,\n            value: \"\".concat(100 - this.state.checkoutRate)\n          }]\n        }\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      })))), React.createElement(Container, {\n        className: \"col-sm-4 full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"chart-container full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(ReactFC, Object.assign({\n        type: \"doughnut2d\",\n        width: \"100%\",\n        height: \"100%\",\n        dataFormat: \"json\",\n        containerBackgroundOpacity: \"0\",\n        dataSource: {\n          chart: {\n            caption: \"Abandoned Cart Rate\",\n            theme: \"ecommerce\",\n            defaultCenterLabel: \"\".concat(this.state.abandonedRate, \"%\"),\n            paletteColors: \"#EDF8B1, #000000\"\n          },\n          data: [{\n            label: \"active\",\n            value: \"\".concat(this.state.abandonedRate)\n          }, {\n            label: \"inactive\",\n            alpha: 5,\n            value: \"\".concat(100 - this.state.abandonedRate)\n          }]\n        }\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      })))))))), React.createElement(Container, {\n        className: \"row\",\n        style: {\n          minHeight: \"400px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"col-md-6 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card is-card-dark chart-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"chart-container large full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(ReactFC, Object.assign({\n        type: \"bar2d\",\n        width: \"100%\",\n        height: \"100%\",\n        dataFormat: \"json\",\n        containerBackgroundOpacity: \"0\",\n        dataEmptyMessage: \"Loading Data...\",\n        dataSource: {\n          chart: {\n            theme: \"ecommerce\",\n            caption: \"Orders Trend\",\n            subCaption: \"By Stores\"\n          },\n          data: this.state.ordersTrendStore\n        }\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }))))), React.createElement(Container, {\n        className: \"col-md-6 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"card is-card-dark chart-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"chart-container large full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(ReactFC, Object.assign({\n        type: \"usaregion\",\n        width: \"100%\",\n        height: \"100%\",\n        dataFormat: \"json\",\n        containerBackgroundOpacity: \"0\",\n        dataEmptyMessage: \"Loading Data...\",\n        dataSource: {\n          chart: {\n            theme: \"ecommerce\",\n            caption: \"Orders Trend\",\n            subCaption: \"By Region\"\n          },\n          colorrange: {\n            code: \"#F64F4B\",\n            minvalue: \"0\",\n            gradient: \"1\",\n            color: [{\n              minValue: \"10\",\n              maxvalue: \"25\",\n              code: \"#EDF8B1\"\n            }, {\n              minvalue: \"25\",\n              maxvalue: \"50\",\n              code: \"#18D380\"\n            }]\n          },\n          data: this.state.ordersTrendRegion\n        }\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/moe/Development/corona/online-retail-dashboard/src/components/App.js"],"names":["React","Component","Container","Nav","FusionCharts","Charts","Maps","USARegion","ReactFC","config","Dropdown","formatNum","UserImg","fcRoot","url","spreadsheetId","apiKey","App","getData","arg","arr","state","items","arrLen","length","amRevenue","ebRevenue","etRevenue","totalRevenue","productViews","purchaseRate","checkoutRate","abandonedRate","ordersTrendStore","ordersTrendRegion","orderesTrendnw","orderesTrendsw","orderesTrendc","orderesTrendne","orderesTrendse","selectedValue","i","parseInt","revenue","push","label","value","orders","displayValue","product_views","purchase_rate","checkout_rate","abandoned_rate","orders_nw","orders_sw","orders_c","orders_ne","orders_se","id","setState","updateDashboard","event","dropdownOptions","type","width","height","dataFormat","containerBackgroundOpacity","dataSource","chart","caption","theme","defaultCenterLabel","paletteColors","data","alpha","minHeight","dataEmptyMessage","subCaption","colorrange","code","minvalue","gradient","color","minValue","maxvalue"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Nav } from \"./styled-components\";\n\n// fusioncharts\nimport FusionCharts from \"fusioncharts\";\nimport Charts from \"fusioncharts/fusioncharts.charts\";\nimport Maps from \"fusioncharts/fusioncharts.maps\";\nimport USARegion from \"fusionmaps/maps/es/fusioncharts.usaregion\";\nimport ReactFC from \"react-fusioncharts\";\nimport \"./charts-theme\";\n\nimport config from \"./config\";\nimport Dropdown from \"react-dropdown\";\nimport formatNum from \"./format-number\";\n\nimport UserImg from \"../assets/images/user-img-placeholder.jpeg\";\n\nReactFC.fcRoot(FusionCharts, Charts, Maps, USARegion);\n\nconst url = `https://sheets.googleapis.com/v4/spreadsheets/${\n  config.spreadsheetId\n}/values:batchGet?ranges=Sheet1&majorDimension=ROWS&key=${config.apiKey}`;\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      items: [],\n      dropdownOptions: [],\n      selectedValue: null,\n      amRevenue: null,\n      ebRevenue: null,\n      etRevenue: null,\n      totalRevenue: null,\n      productViews: null,\n      purchaseRate: \" \",\n      checkoutRate: \" \",\n      abandonedRate: \" \",\n      ordersTrendStore: [],\n    };\n  }\n\n  getData = (arg) => {\n    // google sheets data\n    const arr = this.state.items;\n    const arrLen = arr.length;\n\n    // kpi's\n    // amazon revenue\n    let amRevenue = 0;\n    //ebay revenue\n    let ebRevenue = 0;\n    // etsy revenue\n    let etRevenue = 0;\n    // total revenue\n    let totalRevenue = 0;\n    // product views\n    let productViews = 0;\n    // purchase rate\n    let purchaseRate = 0;\n    // checkout rate\n    let checkoutRate = 0;\n    // abandoned rate\n    let abandonedRate = 0;\n    // order trend by brand\n    let ordersTrendStore = [];\n    // order trend by region\n    let ordersTrendRegion = [];\n    let orderesTrendnw = 0;\n    let orderesTrendsw = 0;\n    let orderesTrendc = 0;\n    let orderesTrendne = 0;\n    let orderesTrendse = 0;\n\n    let selectedValue = null;\n\n    for (let i = 0; i < arrLen; i++) {\n      if (arg === arr[i][\"month\"]) {\n        if (arr[i][\"source\"] === \"AM\") {\n          amRevenue += parseInt(arr[i].revenue);\n          ordersTrendStore.push({\n            label: \"Amazon\",\n            value: arr[i].orders,\n            displayValue: `${arr[i].orders} orders`,\n          });\n        } else if (arr[i][\"source\"] === \"EB\") {\n          ebRevenue += parseInt(arr[i].revenue);\n          ordersTrendStore.push({\n            label: \"Ebay\",\n            value: arr[i].orders,\n            displayValue: `${arr[i].orders} orders`,\n          });\n        } else if (arr[i][\"source\"] === \"ET\") {\n          etRevenue += parseInt(arr[i].revenue);\n          ordersTrendStore.push({\n            label: \"Etsy\",\n            value: arr[i].orders,\n            displayValue: `${arr[i].orders} orders`,\n          });\n        }\n        productViews += parseInt(arr[i].product_views);\n        purchaseRate += parseInt(arr[i].purchase_rate / 3);\n        checkoutRate += parseInt(arr[i].checkout_rate / 3);\n        abandonedRate += parseInt(arr[i].abandoned_rate / 3);\n        orderesTrendnw += parseInt(arr[i].orders_nw);\n        orderesTrendsw += parseInt(arr[i].orders_sw);\n        orderesTrendc += parseInt(arr[i].orders_c);\n        orderesTrendne += parseInt(arr[i].orders_ne);\n        orderesTrendse += parseInt(arr[i].orders_se);\n      }\n    }\n\n    totalRevenue = amRevenue + ebRevenue + etRevenue;\n    ordersTrendRegion.push(\n      {\n        id: \"01\",\n        value: orderesTrendne,\n      },\n      {\n        id: \"02\",\n        value: orderesTrendnw,\n      },\n      {\n        id: \"03\",\n        value: orderesTrendse,\n      },\n      {\n        id: \"04\",\n        value: orderesTrendsw,\n      },\n      {\n        id: \"05\",\n        value: orderesTrendc,\n      }\n    );\n\n    selectedValue = arg;\n\n    // setting state\n    this.setState({\n      amRevenue: formatNum(amRevenue),\n      ebRevenue: formatNum(ebRevenue),\n      etRevenue: formatNum(etRevenue),\n      totalRevenue: formatNum(totalRevenue),\n      productViews: formatNum(productViews),\n      purchaseRate: purchaseRate,\n      checkoutRate: checkoutRate,\n      abandonedRate: abandonedRate,\n      ordersTrendStore: ordersTrendStore,\n      ordersTrendRegion: ordersTrendRegion,\n      selectedValue: selectedValue,\n    });\n  };\n\n  updateDashboard = (event) => {\n    this.getData(event.value);\n    this.setState({ selectedValue: event.value });\n  };\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <Container>\n        <Nav className=\"navbar fixed-top nav-secondary is-dark is-light-text\">\n          <Container className=\"text-medium\">Summary</Container>\n          <Container className=\"navbar-nav ml-auto\">\n            <Dropdown\n              className=\"pr-2 custom-dropdown\"\n              options={this.state.dropdownOptions}\n              onChange={this.updateDashboard}\n              value={this.state.selectedValue}\n              placeholder=\"Select an option\"\n            />\n          </Container>\n        </Nav>\n\n        {/* content area start */}\n        <Container className=\"container-fluid pr-5 pl-5 pt-5 pb-5\">\n          {/* row 1 - revenue */}\n          <Container className=\"row\">\n            <Container className=\"col-lg-3 col-sm-6 is-light-text mb-4\">\n              <Container className=\"card grid-card is-card-dark\">\n                <Container className=\"card-heading\">\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\n                    Total Revenue\n                  </Container>\n                </Container>\n\n                <Container className=\"card-value pt-4 text-x-large\">\n                  <span className=\"text-large pr-1\">$</span>\n                  {this.state.totalRevenue}\n                </Container>\n              </Container>\n            </Container>\n\n            <Container className=\"col-lg-3 col-sm-6 is-light-text mb-4\">\n              <Container className=\"card grid-card is-card-dark\">\n                <Container className=\"card-heading\">\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\n                    Revenue from Amazon\n                  </Container>\n                  <Container className=\"card-heading-brand\">\n                    <i className=\"fab fa-amazon text-large\" />\n                  </Container>\n                </Container>\n\n                <Container className=\"card-value pt-4 text-x-large\">\n                  <span className=\"text-large pr-1\">$</span>\n                  {this.state.amRevenue}\n                </Container>\n              </Container>\n            </Container>\n\n            <Container className=\"col-lg-3 col-sm-6 is-light-text mb-4\">\n              <Container className=\"card grid-card is-card-dark\">\n                <Container className=\"card-heading\">\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\n                    Revenue from Ebay\n                  </Container>\n                  <Container className=\"card-heading-brand\">\n                    <i className=\"fab fa-ebay text-x-large logo-adjust\" />\n                  </Container>\n                </Container>\n\n                <Container className=\"card-value pt-4 text-x-large\">\n                  <span className=\"text-large pr-1\">$</span>\n                  {this.state.ebRevenue}\n                </Container>\n              </Container>\n            </Container>\n\n            <Container className=\"col-lg-3 col-sm-6 is-light-text mb-4\">\n              <Container className=\"card grid-card is-card-dark\">\n                <Container className=\"card-heading\">\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\n                    Revenue from Etsy\n                  </Container>\n                  <Container className=\"card-heading-brand\">\n                    <i className=\"fab fa-etsy text-medium\" />\n                  </Container>\n                </Container>\n\n                <Container className=\"card-value pt-4 text-x-large\">\n                  <span className=\"text-large pr-1\">$</span>\n                  {this.state.etRevenue}\n                </Container>\n              </Container>\n            </Container>\n          </Container>\n\n          {/* row 2 - conversion */}\n          <Container className=\"row\">\n            <Container className=\"col-md-4 col-lg-3 is-light-text mb-4\">\n              <Container className=\"card grid-card is-card-dark\">\n                <Container className=\"card-heading mb-3\">\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\n                    Product Views\n                  </Container>\n                </Container>\n                <Container className=\"card-value pt-4 text-x-large\">\n                  {this.state.productViews}\n                  <span className=\"text-medium pl-2 is-dark-text-light\">\n                    views\n                  </span>\n                </Container>\n              </Container>\n            </Container>\n\n            <Container className=\"col-md-8 col-lg-9 is-light-text mb-4\">\n              <Container className=\"card is-card-dark chart-card\">\n                <Container className=\"row full-height\">\n                  <Container className=\"col-sm-4 full height\">\n                    <Container className=\"chart-container full-height\">\n                      <ReactFC\n                        {...{\n                          type: \"doughnut2d\",\n                          width: \"100%\",\n                          height: \"100%\",\n                          dataFormat: \"json\",\n                          containerBackgroundOpacity: \"0\",\n                          dataSource: {\n                            chart: {\n                              caption: \"Purchase Rate\",\n                              theme: \"ecommerce\",\n                              defaultCenterLabel: `${this.state.purchaseRate}%`,\n                              paletteColors: \"#3B70C4, #000000\",\n                            },\n                            data: [\n                              {\n                                label: \"active\",\n                                value: `${this.state.purchaseRate}`,\n                              },\n                              {\n                                label: \"inactive\",\n                                alpha: 5,\n                                value: `${100 - this.state.purchaseRate}`,\n                              },\n                            ],\n                          },\n                        }}\n                      />\n                    </Container>\n                  </Container>\n                  <Container className=\"col-sm-4 full-height border-left border-right\">\n                    <Container className=\"chart-container full-height\">\n                      <ReactFC\n                        {...{\n                          type: \"doughnut2d\",\n                          width: \"100%\",\n                          height: \"100%\",\n                          dataFormat: \"json\",\n                          containerBackgroundOpacity: \"0\",\n                          dataSource: {\n                            chart: {\n                              caption: \"Checkout Rate\",\n                              theme: \"ecommerce\",\n                              defaultCenterLabel: `${this.state.checkoutRate}%`,\n                              paletteColors: \"#41B6C4, #000000\",\n                            },\n                            data: [\n                              {\n                                label: \"active\",\n                                value: `${this.state.checkoutRate}`,\n                              },\n                              {\n                                label: \"inactive\",\n                                alpha: 5,\n                                value: `${100 - this.state.checkoutRate}`,\n                              },\n                            ],\n                          },\n                        }}\n                      />\n                    </Container>\n                  </Container>\n                  <Container className=\"col-sm-4 full-height\">\n                    <Container className=\"chart-container full-height\">\n                      <ReactFC\n                        {...{\n                          type: \"doughnut2d\",\n                          width: \"100%\",\n                          height: \"100%\",\n                          dataFormat: \"json\",\n                          containerBackgroundOpacity: \"0\",\n                          dataSource: {\n                            chart: {\n                              caption: \"Abandoned Cart Rate\",\n                              theme: \"ecommerce\",\n                              defaultCenterLabel: `${\n                                this.state.abandonedRate\n                              }%`,\n                              paletteColors: \"#EDF8B1, #000000\",\n                            },\n                            data: [\n                              {\n                                label: \"active\",\n                                value: `${this.state.abandonedRate}`,\n                              },\n                              {\n                                label: \"inactive\",\n                                alpha: 5,\n                                value: `${100 - this.state.abandonedRate}`,\n                              },\n                            ],\n                          },\n                        }}\n                      />\n                    </Container>\n                  </Container>\n                </Container>\n              </Container>\n            </Container>\n          </Container>\n\n          {/* row 3 - orders trend */}\n          <Container className=\"row\" style={{ minHeight: \"400px\" }}>\n            <Container className=\"col-md-6 mb-4\">\n              <Container className=\"card is-card-dark chart-card\">\n                <Container className=\"chart-container large full-height\">\n                  <ReactFC\n                    {...{\n                      type: \"bar2d\",\n                      width: \"100%\",\n                      height: \"100%\",\n                      dataFormat: \"json\",\n                      containerBackgroundOpacity: \"0\",\n                      dataEmptyMessage: \"Loading Data...\",\n                      dataSource: {\n                        chart: {\n                          theme: \"ecommerce\",\n                          caption: \"Orders Trend\",\n                          subCaption: \"By Stores\",\n                        },\n                        data: this.state.ordersTrendStore,\n                      },\n                    }}\n                  />\n                </Container>\n              </Container>\n            </Container>\n\n            <Container className=\"col-md-6 mb-4\">\n              <Container className=\"card is-card-dark chart-card\">\n                <Container className=\"chart-container large full-height\">\n                  <ReactFC\n                    {...{\n                      type: \"usaregion\",\n                      width: \"100%\",\n                      height: \"100%\",\n                      dataFormat: \"json\",\n                      containerBackgroundOpacity: \"0\",\n                      dataEmptyMessage: \"Loading Data...\",\n                      dataSource: {\n                        chart: {\n                          theme: \"ecommerce\",\n                          caption: \"Orders Trend\",\n                          subCaption: \"By Region\",\n                        },\n                        colorrange: {\n                          code: \"#F64F4B\",\n                          minvalue: \"0\",\n                          gradient: \"1\",\n                          color: [\n                            {\n                              minValue: \"10\",\n                              maxvalue: \"25\",\n                              code: \"#EDF8B1\",\n                            },\n                            {\n                              minvalue: \"25\",\n                              maxvalue: \"50\",\n                              code: \"#18D380\",\n                            },\n                          ],\n                        },\n                        data: this.state.ordersTrendRegion,\n                      },\n                    }}\n                  />\n                </Container>\n              </Container>\n            </Container>\n          </Container>\n        </Container>\n        {/* content area end */}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}