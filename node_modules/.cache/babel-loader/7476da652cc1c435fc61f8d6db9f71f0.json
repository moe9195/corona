{"ast":null,"code":"import _regeneratorRuntime from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/moe/Development/corona/covid19-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/moe/Development/corona/covid19-dashboard/src/components/CountryInfo.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport countryData from \"./countries\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport arabicdictionaries from \"./arabicCountries\";\nimport translate from \"./translation\";\nimport { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nvar dictionary = countryData[4];\nvar arabicdictionary = arabicdictionaries[0];\nvar instance = axios.create({\n  baseURL: \"https://covidapi.info/api/v1/\",\n  loading: true\n});\n\nvar CountryInfo = function CountryInfo(_ref) {\n  var country = _ref.country,\n      global = _ref.global,\n      language = _ref.language;\n\n  var _useState = useState(global),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      X = _useState6[0],\n      setX = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Y1 = _useState8[0],\n      setY1 = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Y2 = _useState10[0],\n      setY2 = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      Y3 = _useState12[0],\n      setY3 = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      Y4 = _useState14[0],\n      setY4 = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      logarithmic = _useState16[0],\n      setLogarithmic = _useState16[1];\n\n  var _useState17 = useState(\"Confirmed\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      selector = _useState18[0],\n      setSelector = _useState18[1];\n\n  var handleSwitch = function handleSwitch() {\n    setLogarithmic(!logarithmic);\n  };\n\n  var handleOnClick = function handleOnClick(selected) {\n    setSelector(selected);\n  };\n\n  var fetchData =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(country) {\n      var response, _countryData;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return instance.get(\"country/\".concat(country));\n\n            case 3:\n              response = _context.sent;\n              _countryData = response.data.result;\n              setData(_countryData);\n              console.log(data[\"2020-03-22\"]);\n              setLoading(true);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 10]]);\n    }));\n\n    return function fetchData(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchData(country);\n  }, [country]);\n  var logType = logarithmic ? \"log\" : \"null\";\n\n  if (data && loading) {\n    var Xtemp = [];\n    var Y1temp = [],\n        Y2temp = [],\n        Y3temp = [],\n        Y4temp = [];\n\n    for (var key in data) {\n      Xtemp.push(key);\n      Y1temp.push(data[key].confirmed);\n      Y2temp.push(data[key].deaths);\n      Y3temp.push(data[key].recovered);\n    }\n\n    if (Xtemp.length > 1) {\n      setX(Xtemp);\n      setY1(Y1temp);\n      setY2(Y2temp);\n      setY3(Y3temp);\n\n      for (var i = 0; i < Xtemp.length; i++) {\n        Y4temp.push(Y1temp[i + 1] - Y1temp[i]);\n      }\n\n      setY4(Y4temp);\n      setLoading(false);\n    }\n  }\n\n  if (!loading) {\n    var trace1 = {\n      x: X,\n      y: Y1,\n      type: \"scatter\",\n      name: \"Confirmed\",\n      mode: \"lines+markers\",\n      line: {\n        color: \"#ff0000\"\n      },\n      marker: {\n        color: \"#ff0000\"\n      }\n    };\n    var trace2 = {\n      x: X,\n      y: Y2,\n      type: \"scatter\",\n      name: \"Deaths\",\n      mode: \"lines+markers\",\n      line: {\n        color: \"#ff0000\"\n      },\n      marker: {\n        color: \"#ff0000\"\n      }\n    };\n    var trace3 = {\n      x: X,\n      y: Y3,\n      type: \"scatter\",\n      name: \"Recovered\",\n      mode: \"lines+markers\",\n      line: {\n        color: \"#ff0000\"\n      },\n      marker: {\n        color: \"#ff0000\"\n      }\n    };\n    var bar = {\n      x: X,\n      y: Y4,\n      type: \"bar\",\n      name: \"New Cases\",\n      line: {\n        color: \"#ff0000\"\n      },\n      marker: {\n        color: \"#ff0000\"\n      }\n    };\n    var plotData = [trace1, trace2, trace3, bar];\n    var selectors = [\"Confirmed\", \"Deaths\", \"Recovered\", \"Daily Increase\"];\n    var buttons = selectors.map(function (type) {\n      return React.createElement(\"button\", {\n        className: selector === type ? \"btn btn-outline-dark clicked\" : \"btn btn-outline-dark\",\n        style: {\n          padding: \"0vh 2vw 0vh 2vw\"\n        },\n        onClick: function onClick() {\n          return handleOnClick(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"button-fonts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \" \", language ? type : translate[type]));\n    });\n    var select = selector === \"Confirmed\" ? 0 : selector === \"Deaths\" ? 1 : selector === \"Recovered\" ? 2 : selector === \"Daily Increase\" ? 3 : null;\n    return React.createElement(\"div\", {\n      className: \"padded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"buttons-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-dark\",\n      style: {\n        padding: \"0.75vh 1vw 0.75vh 1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"button-fonts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: faQuestionCircle,\n      size: \"1x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), \" \", buttons, React.createElement(\"button\", {\n      className: logarithmic ? \"btn btn-outline-dark clicked\" : \"btn btn-outline-dark\",\n      style: {\n        padding: \"0vh 1.8vw 0vh 1.8vw\"\n      },\n      onClick: function onClick() {\n        return handleSwitch();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"button-fonts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \" \", language ? \"Logarithmic\" : \"لوغاريتمي\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Plot, {\n      data: [plotData[select]],\n      layout: {\n        modebar: {\n          bgcolor: \"rgba(255,255,255,0)\"\n        },\n        title: !country && language ? \"Global\" : !country && !language ? \"العالم\" : country && language ? \"\".concat(dictionary[country]) : \"\".concat(arabicdictionary[country]),\n        font: {\n          color: \"#e1e5e8\",\n          size: 12\n        },\n        xaxis: {\n          nticks: 15\n        },\n        yaxis: {\n          type: logType\n        },\n        margin: {\n          l: 40,\n          r: 20,\n          t: 50,\n          b: 40,\n          pad: 0\n        },\n        plot_bgcolor: \"#191d20\",\n        paper_bgcolor: \"#191d20\",\n        height: 400,\n        autosize: true\n      },\n      useResizeHandler: true,\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      config: {\n        modeBarButtonsToRemove: [\"toggleSpikelines\", \"zoomIn2d\", \"zoomOut2d\", \"autoScale2d\", \"hoverClosestCartesian\", \"hoverCompareCartesian\", \"select2d\", \"lasso2d\"],\n        displaylogo: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Click on a country from the map\");\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    country: state.data.country\n  };\n};\n\nexport default connect(mapStateToProps, null)(CountryInfo);","map":{"version":3,"sources":["/home/moe/Development/corona/covid19-dashboard/src/components/CountryInfo.js"],"names":["React","useState","useEffect","useCallback","Plot","countryData","connect","axios","arabicdictionaries","translate","faQuestionCircle","FontAwesomeIcon","dictionary","arabicdictionary","instance","create","baseURL","loading","CountryInfo","country","global","language","data","setData","setLoading","X","setX","Y1","setY1","Y2","setY2","Y3","setY3","Y4","setY4","logarithmic","setLogarithmic","selector","setSelector","handleSwitch","handleOnClick","selected","fetchData","get","response","result","console","log","error","logType","Xtemp","Y1temp","Y2temp","Y3temp","Y4temp","key","push","confirmed","deaths","recovered","length","i","trace1","x","y","type","name","mode","line","color","marker","trace2","trace3","bar","plotData","selectors","buttons","map","padding","select","modebar","bgcolor","title","font","size","xaxis","nticks","yaxis","margin","l","r","t","b","pad","plot_bgcolor","paper_bgcolor","height","autosize","width","modeBarButtonsToRemove","displaylogo","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport countryData from \"./countries\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport arabicdictionaries from \"./arabicCountries\";\nimport translate from \"./translation\";\n\nimport { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst dictionary = countryData[4];\nconst arabicdictionary = arabicdictionaries[0];\n\nconst instance = axios.create({\n  baseURL: \"https://covidapi.info/api/v1/\",\n  loading: true\n});\n\nconst CountryInfo = ({ country, global, language }) => {\n  const [data, setData] = useState(global);\n  const [loading, setLoading] = useState(true);\n  const [X, setX] = useState([]);\n  const [Y1, setY1] = useState([]);\n  const [Y2, setY2] = useState([]);\n  const [Y3, setY3] = useState([]);\n  const [Y4, setY4] = useState([]);\n  const [logarithmic, setLogarithmic] = useState(false);\n  const [selector, setSelector] = useState(\"Confirmed\");\n\n  const handleSwitch = () => {\n    setLogarithmic(!logarithmic);\n  };\n\n  const handleOnClick = selected => {\n    setSelector(selected);\n  };\n\n  const fetchData = async country => {\n    try {\n      let response = await instance.get(`country/${country}`);\n      let countryData = response.data.result;\n      setData(countryData);\n      console.log(data[\"2020-03-22\"]);\n      setLoading(true);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(\n    () => {\n      fetchData(country);\n    },\n    [country]\n  );\n\n  let logType = logarithmic ? \"log\" : \"null\";\n\n  if (data && loading) {\n    var Xtemp = [];\n    var Y1temp = [],\n      Y2temp = [],\n      Y3temp = [],\n      Y4temp = [];\n    for (var key in data) {\n      Xtemp.push(key);\n      Y1temp.push(data[key].confirmed);\n      Y2temp.push(data[key].deaths);\n      Y3temp.push(data[key].recovered);\n    }\n    if (Xtemp.length > 1) {\n      setX(Xtemp);\n      setY1(Y1temp);\n      setY2(Y2temp);\n      setY3(Y3temp);\n      for (let i = 0; i < Xtemp.length; i++) {\n        Y4temp.push(Y1temp[i + 1] - Y1temp[i]);\n      }\n      setY4(Y4temp);\n      setLoading(false);\n    }\n  }\n\n  if (!loading) {\n    const trace1 = {\n      x: X,\n      y: Y1,\n      type: \"scatter\",\n      name: \"Confirmed\",\n      mode: \"lines+markers\",\n      line: { color: \"#ff0000\" },\n      marker: { color: \"#ff0000\" }\n    };\n    const trace2 = {\n      x: X,\n      y: Y2,\n      type: \"scatter\",\n      name: \"Deaths\",\n      mode: \"lines+markers\",\n      line: { color: \"#ff0000\" },\n      marker: { color: \"#ff0000\" }\n    };\n    const trace3 = {\n      x: X,\n      y: Y3,\n      type: \"scatter\",\n      name: \"Recovered\",\n      mode: \"lines+markers\",\n      line: { color: \"#ff0000\" },\n      marker: { color: \"#ff0000\" }\n    };\n    const bar = {\n      x: X,\n      y: Y4,\n      type: \"bar\",\n      name: \"New Cases\",\n      line: { color: \"#ff0000\" },\n      marker: { color: \"#ff0000\" }\n    };\n    const plotData = [trace1, trace2, trace3, bar];\n\n    const selectors = [\"Confirmed\", \"Deaths\", \"Recovered\", \"Daily Increase\"];\n\n    const buttons = selectors.map(type => (\n      <button\n        className={\n          selector === type\n            ? \"btn btn-outline-dark clicked\"\n            : \"btn btn-outline-dark\"\n        }\n        style={{ padding: \"0vh 2vw 0vh 2vw\" }}\n        onClick={() => handleOnClick(type)}\n      >\n        {\" \"}\n        <div className=\"button-fonts\"> {language ? type : translate[type]}</div>\n      </button>\n    ));\n    let select =\n      selector === \"Confirmed\"\n        ? 0\n        : selector === \"Deaths\"\n        ? 1\n        : selector === \"Recovered\"\n        ? 2\n        : selector === \"Daily Increase\"\n        ? 3\n        : null;\n    return (\n      <div className=\"padded\">\n        <div className=\"buttons-header\">\n          <button\n            className=\"btn btn-outline-dark\"\n            style={{ padding: \"0.75vh 1vw 0.75vh 1vw\" }}\n          >\n            <div className=\"button-fonts\">\n              {\" \"}\n              <FontAwesomeIcon icon={faQuestionCircle} size=\"1x\" />\n            </div>\n          </button>{\" \"}\n          {buttons}\n          <button\n            className={\n              logarithmic\n                ? \"btn btn-outline-dark clicked\"\n                : \"btn btn-outline-dark\"\n            }\n            style={{ padding: \"0vh 1.8vw 0vh 1.8vw\" }}\n            onClick={() => handleSwitch()}\n          >\n            {\" \"}\n            <div className=\"button-fonts\">\n              {\" \"}\n              {language ? \"Logarithmic\" : \"لوغاريتمي\"}\n            </div>\n          </button>\n          <div />\n          <Plot\n            data={[plotData[select]]}\n            layout={{\n              modebar: { bgcolor: \"rgba(255,255,255,0)\" },\n              title:\n                !country && language\n                  ? \"Global\"\n                  : !country && !language\n                  ? \"العالم\"\n                  : country && language\n                  ? `${dictionary[country]}`\n                  : `${arabicdictionary[country]}`,\n              font: { color: \"#e1e5e8\", size: 12 },\n              xaxis: { nticks: 15 },\n              yaxis: { type: logType },\n              margin: { l: 40, r: 20, t: 50, b: 40, pad: 0 },\n              plot_bgcolor: \"#191d20\",\n              paper_bgcolor: \"#191d20\",\n              height: 400,\n              autosize: true\n            }}\n            useResizeHandler={true}\n            style={{ width: \"100%\", height: \"100%\" }}\n            config={{\n              modeBarButtonsToRemove: [\n                \"toggleSpikelines\",\n                \"zoomIn2d\",\n                \"zoomOut2d\",\n                \"autoScale2d\",\n                \"hoverClosestCartesian\",\n                \"hoverCompareCartesian\",\n                \"select2d\",\n                \"lasso2d\"\n              ],\n              displaylogo: false\n            }}\n          />\n        </div>\n      </div>\n    );\n  } else {\n    return <div>Click on a country from the map</div>;\n  }\n};\nconst mapStateToProps = state => {\n  return {\n    country: state.data.country\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  null\n)(CountryInfo);\n"]},"metadata":{},"sourceType":"module"}